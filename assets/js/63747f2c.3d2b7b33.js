"use strict";(self.webpackChunkmap_docs=self.webpackChunkmap_docs||[]).push([[9852],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),m=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=m(a),k=r,u=c["".concat(s,".").concat(k)]||c[k]||d[k]||l;return a?n.createElement(u,i(i({ref:t},p),{},{components:a})):n.createElement(u,i({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=k;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:r,i[1]=o;for(var m=2;m<l;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},8220:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>m});var n=a(7462),r=(a(7294),a(3905));const l={custom_edit_url:"https://github.com/rnmapbox/maps/blob/main/src/modules/offline/offlineManager.ts"},i=void 0,o={unversionedId:"components/offlineManager",id:"components/offlineManager",title:"offlineManager",description:"OfflineManager implements a singleton (shared object) that manages offline packs.",source:"@site/docs/components/offlineManager.md",sourceDirName:"components",slug:"/components/offlineManager",permalink:"/docs/components/offlineManager",draft:!1,editUrl:"https://github.com/rnmapbox/maps/blob/main/src/modules/offline/offlineManager.ts",tags:[],version:"current",frontMatter:{custom_edit_url:"https://github.com/rnmapbox/maps/blob/main/src/modules/offline/offlineManager.ts"},sidebar:"componentSidebar",previous:{title:"locationManager",permalink:"/docs/components/locationManager"},next:{title:"snapshotManager",permalink:"/docs/components/snapshotManager"}},s={},m=[{value:"methods",id:"methods",level:2},{value:"createPack(options, progressListener)",id:"createpackoptions-progresslistener",level:3},{value:"arguments",id:"arguments",level:4},{value:"arguments",id:"arguments-1",level:4},{value:"deletePack(name)",id:"deletepackname",level:3},{value:"arguments",id:"arguments-2",level:4},{value:"invalidateAmbientCache()",id:"invalidateambientcache",level:3},{value:"arguments",id:"arguments-3",level:4},{value:"clearAmbientCache()",id:"clearambientcache",level:3},{value:"arguments",id:"arguments-4",level:4},{value:"migrateOfflineCache()",id:"migrateofflinecache",level:3},{value:"arguments",id:"arguments-5",level:4},{value:"setMaximumAmbientCacheSize(size)",id:"setmaximumambientcachesizesize",level:3},{value:"arguments",id:"arguments-6",level:4},{value:"resetDatabase()",id:"resetdatabase",level:3},{value:"arguments",id:"arguments-7",level:4},{value:"getPacks()",id:"getpacks",level:3},{value:"arguments",id:"arguments-8",level:4},{value:"arguments",id:"arguments-9",level:4},{value:"arguments",id:"arguments-10",level:4},{value:"setTileCountLimit(limit)",id:"settilecountlimitlimit",level:3},{value:"arguments",id:"arguments-11",level:4},{value:"setProgressEventThrottle(throttleValue)",id:"setprogresseventthrottlethrottlevalue",level:3},{value:"arguments",id:"arguments-12",level:4},{value:"subscribe(packName, progressListener, errorListener)",id:"subscribepackname-progresslistener-errorlistener",level:3},{value:"arguments",id:"arguments-13",level:4},{value:"unsubscribe(packName)",id:"unsubscribepackname",level:3},{value:"arguments",id:"arguments-14",level:4}],p={toc:m},c="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { offlineManager } from '@rnmapbox/maps';\n\nofflineManager\n\n")),(0,r.kt)("p",null,"OfflineManager implements a singleton (shared object) that manages offline packs.\nAll of this class\u2019s instance methods are asynchronous, reflecting the fact that offline resources are stored in a database.\nThe shared object maintains a canonical collection of offline packs."),(0,r.kt)("h2",{id:"methods"},"methods"),(0,r.kt)("h3",{id:"createpackoptions-progresslistener"},"createPack(options","[, progressListener][, errorListener]",")"),(0,r.kt)("p",null,"Creates and registers an offline pack that downloads the resources needed to use the given region offline."),(0,r.kt)("h4",{id:"arguments"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"OfflineCreatePackOptions")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Create options for a offline pack that specifices zoom levels, style url, and the region to download.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"progressListener")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Callback")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"No")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Callback that listens for status events while downloading the offline resource.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"errorListener")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Callback")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"No")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Callback that listens for status events while downloading the offline resource.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const progressListener = (offlineRegion, status) => console.log(offlineRegion, status);\nconst errorListener = (offlineRegion, err) => console.log(offlineRegion, err);\n\nawait Mapbox.offlineManager.createPack({\n  name: 'offlinePack',\n  styleURL: 'mapbox://...',\n  minZoom: 14,\n  maxZoom: 20,\n  bounds: [[neLng, neLat], [swLng, swLat]]\n}, progressListener, errorListener)\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/Map/OfflineExample"},"Offline Example"),"### invalidatePack(name)"),(0,r.kt)("p",null,"Invalidates the specified offline pack. This method checks that the tiles in the specified offline pack match those from the server. Local tiles that do not match the latest version on the server are updated.This is more efficient than deleting the offline pack and downloading it again. If the data stored locally matches that on the server, new data will not be downloaded."),(0,r.kt)("h4",{id:"arguments-1"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the offline pack.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.invalidatePack('packName')\n")),(0,r.kt)("h3",{id:"deletepackname"},"deletePack(name)"),(0,r.kt)("p",null,"Unregisters the given offline pack and allows resources that are no longer required by any remaining packs to be potentially freed."),(0,r.kt)("h4",{id:"arguments-2"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the offline pack.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.deletePack('packName')\n")),(0,r.kt)("h3",{id:"invalidateambientcache"},"invalidateAmbientCache()"),(0,r.kt)("p",null,"Forces a revalidation of the tiles in the ambient cache and downloads a fresh version of the tiles from the tile server.",(0,r.kt)("br",null),"This is the recommend method for clearing the cache.",(0,r.kt)("br",null),"This is the most efficient method because tiles in the ambient cache are re-downloaded to remove outdated data from a device.",(0,r.kt)("br",null),"It does not erase resources from the ambient cache or delete the database, which can be computationally expensive operations that may carry unintended side effects."),(0,r.kt)("h4",{id:"arguments-3"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.invalidateAmbientCache();\n")),(0,r.kt)("h3",{id:"clearambientcache"},"clearAmbientCache()"),(0,r.kt)("p",null,"Erases resources from the ambient cache.",(0,r.kt)("br",null),"This method clears the cache and decreases the amount of space that map resources take up on the device."),(0,r.kt)("h4",{id:"arguments-4"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.clearAmbientCache();\n")),(0,r.kt)("h3",{id:"migrateofflinecache"},"migrateOfflineCache()"),(0,r.kt)("p",null,"Migrates the offline cache from pre-v10 SDKs to the new v10 cache location"),(0,r.kt)("h4",{id:"arguments-5"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.migrateOfflineCache()\n")),(0,r.kt)("h3",{id:"setmaximumambientcachesizesize"},"setMaximumAmbientCacheSize(size)"),(0,r.kt)("p",null,"Sets the maximum size of the ambient cache in bytes. Disables the ambient cache if set to 0.",(0,r.kt)("br",null),"This method may be computationally expensive because it will erase resources from the ambient cache if its size is decreased."),(0,r.kt)("h4",{id:"arguments-6"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"size")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Size of ambient cache.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.setMaximumAmbientCacheSize(5000000);\n")),(0,r.kt)("h3",{id:"resetdatabase"},"resetDatabase()"),(0,r.kt)("p",null,"Deletes the existing database, which includes both the ambient cache and offline packs, then reinitializes it."),(0,r.kt)("h4",{id:"arguments-7"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.resetDatabase();\n")),(0,r.kt)("h3",{id:"getpacks"},"getPacks()"),(0,r.kt)("p",null,"Retrieves all the current offline packs that are stored in the database."),(0,r.kt)("h4",{id:"arguments-8"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const offlinePacks = await Mapbox.offlineManager.getPacks();\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/Map/OfflineExample"},"Offline Example"),"### getPack(name)"),(0,r.kt)("p",null,"Retrieves an offline pack that is stored in the database by name."),(0,r.kt)("h4",{id:"arguments-9"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the offline pack.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const offlinePack = await Mapbox.offlineManager.getPack();\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/Map/OfflineExample"},"Offline Example"),"### mergeOfflineRegions(path)"),(0,r.kt)("p",null,"Sideloads offline db"),(0,r.kt)("h4",{id:"arguments-10"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"path")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Path to offline tile db on file system.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await Mapbox.offlineManager.mergeOfflineRegions(path);\n")),(0,r.kt)("h3",{id:"settilecountlimitlimit"},"setTileCountLimit(limit)"),(0,r.kt)("p",null,"Sets the maximum number of Mapbox-hosted tiles that may be downloaded and stored on the current device.",(0,r.kt)("br",null),"The Mapbox Terms of Service prohibit changing or bypassing this limit without permission from Mapbox."),(0,r.kt)("h4",{id:"arguments-11"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"limit")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Map tile limit count.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"Mapbox.offlineManager.setTileCountLimit(1000);\n")),(0,r.kt)("h3",{id:"setprogresseventthrottlethrottlevalue"},"setProgressEventThrottle(throttleValue)"),(0,r.kt)("p",null,"Sets the period at which download status events will be sent over the React Native bridge.",(0,r.kt)("br",null),"The default is 300ms."),(0,r.kt)("h4",{id:"arguments-12"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"throttleValue")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"event throttle value in ms.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"Mapbox.offlineManager.setProgressEventThrottle(500);\n")),(0,r.kt)("h3",{id:"subscribepackname-progresslistener-errorlistener"},"subscribe(packName, progressListener, errorListener)"),(0,r.kt)("p",null,"Subscribe to download status/error events for the requested offline pack.",(0,r.kt)("br",null),"Note that createPack calls this internally if listeners are provided."),(0,r.kt)("h4",{id:"arguments-13"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"packName")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the offline pack.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"progressListener")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Callback")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Callback that listens for status events while downloading the offline resource.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"errorListener")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Callback")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Callback that listens for status events while downloading the offline resource.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const progressListener = (offlinePack, status) => console.log(offlinePack, status)\nconst errorListener = (offlinePack, err) => console.log(offlinePack, err)\nMapbox.offlineManager.subscribe('packName', progressListener, errorListener)\n")),(0,r.kt)("h3",{id:"unsubscribepackname"},"unsubscribe(packName)"),(0,r.kt)("p",null,"Unsubscribes any listeners associated with the offline pack.",(0,r.kt)("br",null),"It's a good idea to call this on componentWillUnmount."),(0,r.kt)("h4",{id:"arguments-14"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"packName")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the offline pack.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"Mapbox.offlineManager.unsubscribe('packName')\n")))}d.isMDXComponent=!0}}]);