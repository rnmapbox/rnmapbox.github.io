"use strict";(self.webpackChunkmap_docs=self.webpackChunkmap_docs||[]).push([[7943],{2784:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>T,contentTitle:()=>_,default:()=>O,frontMatter:()=>M,metadata:()=>A,toc:()=>S});var r=s(5893),a=s(1151),o=s(7294),l=s(6905),i=s(2466),t=s(6550),d=s(469),c=s(1980),u=s(7392),p=s(12);function h(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function x(e){const{values:n,children:s}=e;return(0,o.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:s,attributes:r,default:a}}=e;return{value:n,label:s,attributes:r,default:a}}))}(s);return function(e){const n=(0,u.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function g(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:s}=e;const r=(0,t.k6)(),a=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,c._X)(a),(0,o.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function f(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,a=x(e),[l,i]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=s.find((e=>e.default))??s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[t,c]=m({queryString:s,groupId:r}),[u,h]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,p.Nk)(s);return[r,(0,o.useCallback)((e=>{s&&a.set(e)}),[s,a])]}({groupId:r}),f=(()=>{const e=t??u;return g({value:e,tabValues:a})?e:null})();(0,d.Z)((()=>{f&&i(f)}),[f]);return{selectedValue:l,selectValue:(0,o.useCallback)((e=>{if(!g({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),c(e),h(e)}),[c,h,a]),tabValues:a}}var b=s(2389);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:n,block:s,selectedValue:a,selectValue:o,tabValues:t}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),u=e=>{const n=e.currentTarget,s=d.indexOf(n),r=t[s].value;r!==a&&(c(n),o(r))},p=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const s=d.indexOf(e.currentTarget)+1;n=d[s]??d[0];break}case"ArrowLeft":{const s=d.indexOf(e.currentTarget)-1;n=d[s]??d[d.length-1];break}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":s},n),children:t.map((e=>{let{value:n,label:s,attributes:o}=e;return(0,r.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>d.push(e),onKeyDown:p,onClick:u,...o,className:(0,l.Z)("tabs__item",j.tabItem,o?.className,{"tabs__item--active":a===n}),children:s??n},n)}))})}function y(e){let{lazy:n,children:s,selectedValue:a}=e;const l=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function N(e){const n=f(e);return(0,r.jsxs)("div",{className:(0,l.Z)("tabs-container",j.tabList),children:[(0,r.jsx)(v,{...e,...n}),(0,r.jsx)(y,{...e,...n})]})}function w(e){const n=(0,b.Z)();return(0,r.jsx)(N,{...e,children:h(e.children)},String(n))}const k={tabItem:"tabItem_Ymn6"};function V(e){let{children:n,hidden:s,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,l.Z)(k.tabItem,a),hidden:s,children:n})}const M={id:"install",sidebar_position:1,title:"Install"},_="Configure credentials",A={id:"install",title:"Install",description:"Before installing @rnmapbox/maps you'll need to get the proper credentials.",source:"@site/docs/install.md",sourceDirName:".",slug:"/install",permalink:"/docs/install",draft:!1,unlisted:!1,editUrl:"install.tsx",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"install",sidebar_position:1,title:"Install"}},T={},S=[{value:"Update your podfile",id:"update-your-podfile",level:3},{value:"Verify .netrc",id:"verify-netrc",level:3},{value:"Adding mapbox maven repo",id:"adding-mapbox-maven-repo",level:3},{value:"Verify MAPBOX_DOWNLOADS_TOKEN in gradle.properties",id:"verify-mapbox_downloads_token-in-gradleproperties",level:3},{value:"Plugin configuration",id:"plugin-configuration",level:3},{value:"Using V11",id:"using-v11",level:2},{value:"Advanced - using non default version",id:"advanced---using-non-default-version",level:2}];function I(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"configure-credentials",children:"Configure credentials"}),"\n",(0,r.jsx)(n.p,{children:"Before installing @rnmapbox/maps you'll need to get the proper credentials.\nYou'll need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["secret access token with (Downloads",":Read",") scope to download iOS and Android SDK from mapbox."]}),"\n",(0,r.jsx)(n.li,{children:"public token to use as accessToken when running the app"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"https://docs.mapbox.com/ios/navigation/guides/get-started/install/#configure-credentials",children:"Configure Credential"})," on mapbox.com for details."]}),"\n",(0,r.jsx)(n.h1,{id:"install",children:"Install"}),"\n",(0,r.jsxs)(w,{groupId:"install-module",queryString:!0,defaultValue:"npm",values:[{label:"NPM",value:"npm"},{label:"Yarn",value:"yarn"},{label:"Expo",value:"expo"}],children:[(0,r.jsx)(V,{value:"npm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"npm install @rnmapbox/maps\n"})})}),(0,r.jsx)(V,{value:"yarn",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yarn add @rnmapbox/maps\n"})})}),(0,r.jsx)(V,{value:"expo",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"expo install @rnmapbox/maps\n"})})})]}),"\n",(0,r.jsx)(n.h1,{id:"configure-rnmapboxmaps",children:"Configure @rnmapbox/maps"}),"\n",(0,r.jsxs)(w,{groupId:"configure-module",queryString:!0,defaultValue:"ios",values:[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Expo",value:"expo"}],children:[(0,r.jsxs)(V,{value:"ios",children:[(0,r.jsx)(n.h3,{id:"update-your-podfile",children:"Update your podfile"}),(0,r.jsxs)(n.p,{children:["Add the following to your ",(0,r.jsx)(n.code,{children:"ios/Podfile"})]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"pre_install do |installer|\n  $RNMapboxMaps.pre_install(installer)\n  # ... other pre install hooks\nend\n\npost_install do |installer|\n  $RNMapboxMaps.post_install(installer)\n  # ... other post install hooks\nend\n"})}),(0,r.jsx)(n.h3,{id:"verify-netrc",children:"Verify .netrc"}),(0,r.jsxs)(n.p,{children:["Make sure your ",(0,r.jsx)(n.code,{children:".netrc"})," is configured with your secret access token, as described by the ",(0,r.jsx)(n.a,{href:"https://docs.mapbox.com/ios/maps/guides/install/#configure-credentials",children:"mapbox docs"}),". To verify execute:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"grep -A 4 api.mapbox.com ~/.netrc\n"})}),(0,r.jsx)(n.p,{children:"This should output something like:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"machine api.mapbox.com\n  login mapbox\n  password sk.ey...\n"})})]}),(0,r.jsxs)(V,{value:"android",children:[(0,r.jsx)(n.h3,{id:"adding-mapbox-maven-repo",children:"Adding mapbox maven repo"}),(0,r.jsxs)(n.p,{children:["Add the following to your android/build.gradle, into the section ",(0,r.jsx)(n.code,{children:"allprojects/repositories"})]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gradle",children:"// android/build.gradle\n\nallprojects {\n    repositories {\n        // ...other repos\n        maven {\n            url 'https://api.mapbox.com/downloads/v2/releases/maven'\n            authentication {\n                basic(BasicAuthentication)\n            }\n            credentials {\n                // Do not change the username below.\n                // This should always be `mapbox` (not your username).\n                username = 'mapbox'\n                // Use the secret token you stored in gradle.properties as the password\n                password = project.properties['MAPBOX_DOWNLOADS_TOKEN'] ?: \"\"\n            }\n        }\n        // ...even more repos?\n    }\n}\n"})}),(0,r.jsx)(n.h3,{id:"verify-mapbox_downloads_token-in-gradleproperties",children:"Verify MAPBOX_DOWNLOADS_TOKEN in gradle.properties"}),(0,r.jsxs)(n.p,{children:["Make sure your global ",(0,r.jsx)(n.code,{children:".gradle-properties"})," is configured with your secret access token, as described by the ",(0,r.jsx)(n.a,{href:"https://docs.mapbox.com/android/maps/guides/install/#configure-credentials",children:"mapbox docs"}),". To verify execute:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"grep -R MAPBOX_DOWNLOADS_TOKEN ~/.gradle/gradle.properties\n"})}),(0,r.jsx)(n.p,{children:"This should output something like:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"/Users/foo/.gradle/gradle.properties:MAPBOX_DOWNLOADS_TOKEN=sk.ey...\n"})})]}),(0,r.jsxs)(V,{value:"expo",children:[(0,r.jsx)(n.h3,{id:"plugin-configuration",children:"Plugin configuration"}),(0,r.jsxs)(n.p,{children:["Set ",(0,r.jsx)(n.code,{children:"RNMapboxMapsDownloadToken"})," to your secret token. See the ",(0,r.jsx)(n.a,{href:"https://docs.mapbox.com/ios/maps/guides/install/#configure-credentials",children:"credentials instructions"})," on mapbox.com."]}),(0,r.jsxs)(n.p,{children:["Add ",(0,r.jsx)(n.code,{children:"RNMapboxMapsDownloadToken"})," to the @rnmapbox/maps ",(0,r.jsx)(n.a,{href:"https://docs.expo.io/guides/config-plugins/",children:"config plugin"})," in the ",(0,r.jsx)(n.a,{href:"https://docs.expo.io/versions/latest/config/app/#plugins",children:(0,r.jsx)(n.code,{children:"plugins"})})," array of your ",(0,r.jsx)(n.code,{children:"app.{json,config.js,config.ts}"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "@rnmapbox/maps",\n        {\n          "RNMapboxMapsDownloadToken": "sk.ey.."\n        }\n      ]\n    ]\n  }\n}\n'})})]})]}),"\n",(0,r.jsx)(n.h2,{id:"using-v11",children:"Using V11"}),"\n",(0,r.jsxs)(n.p,{children:["@rnmapbox 10.1 supports both ",(0,r.jsx)(n.code,{children:"10.16.*"})," and ",(0,r.jsx)(n.code,{children:"11.0.*"})," versions, but defaults to ",(0,r.jsx)(n.code,{children:"10.16.*"}),". To use ",(0,r.jsx)(n.code,{children:"11.0.*"})," please configure according to your platform:"]}),"\n",(0,r.jsxs)(w,{groupId:"v11-insructions",queryString:!0,defaultValue:"expo",values:[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Expo",value:"expo"}],children:[(0,r.jsxs)(V,{value:"ios",children:[(0,r.jsxs)(n.p,{children:["Add the following to your ",(0,r.jsx)(n.code,{children:"ios/Podfile"})]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ruby",children:"$RNMapboxMapsVersion = '= 11.0.0'\n"})})]}),(0,r.jsxs)(V,{value:"android",children:[(0,r.jsxs)(n.p,{children:["Set ",(0,r.jsx)(n.code,{children:"RNMapboxMapsVersion"})," in ",(0,r.jsx)(n.code,{children:"android/build.gradle"})," > ",(0,r.jsx)(n.code,{children:"buildscript"})," > ",(0,r.jsx)(n.code,{children:"ext"})," section"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gradle",children:"buildscript {\n    ext {\n        RNMapboxMapsVersion = '11.0.0'\n    }\n}\n"})})]}),(0,r.jsxs)(V,{value:"expo",children:[(0,r.jsxs)(n.p,{children:["Add ",(0,r.jsx)(n.code,{children:"RNMapboxMapsVersion"})," to the @rnmapbox/maps ",(0,r.jsx)(n.a,{href:"https://docs.expo.io/guides/config-plugins/",children:"config plugin"})," to the ",(0,r.jsx)(n.a,{href:"https://docs.expo.io/versions/latest/config/app/#plugins",children:(0,r.jsx)(n.code,{children:"plugins"})})," array of your ",(0,r.jsx)(n.code,{children:"app.{json,config.js,config.ts}"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "@rnmapbox/maps",\n        {\n          ...\n          "RNMapboxMapsVersion": "11.0.0"\n        }\n      ]\n    ]\n  }\n}\n'})})]})]}),"\n",(0,r.jsx)(n.h2,{id:"advanced---using-non-default-version",children:"Advanced - using non default version"}),"\n",(0,r.jsxs)(n.p,{children:["It's possible to overwrite the native SDK version with ",(0,r.jsx)(n.code,{children:"RNMapboxMapsVersion"}),". But you have to revise it when upgrading ",(0,r.jsx)(n.code,{children:"@rnmapbox/maps"})," as future ",(0,r.jsx)(n.code,{children:"@rnmapbox/maps"})," releases might not support he version you set today."]}),"\n",(0,r.jsxs)(n.p,{children:["Follow the instructions above ",(0,r.jsx)(n.a,{href:"#using-v11",children:"on using v11"}),", just use 10.* version you'd like."]})]})}function O(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(I,{...e})}):I(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>l});var r=s(7294);const a={},o=r.createContext(a);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);