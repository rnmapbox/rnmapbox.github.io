"use strict";(self.webpackChunkmap_docs=self.webpackChunkmap_docs||[]).push([[589],{9123:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var r=a(5893),n=a(1151);const s={title:"Camera Gesture Observer",tags:["CameraGestureObserver#onMapSteady","CameraGestureObserver#quietPeriodMs","CameraGestureObserver#maxIntervalMs"],custom_props:{example_rel_path:"Map/CameraGestureObserver.tsx"},custom_edit_url:"https://github.com/rnmapbox/maps/tree/master/example/src/examples/Map/CameraGestureObserver.tsx"},o=void 0,i={id:"examples/Map/CameraGestureObserver",title:"Camera Gesture Observer",description:"Demonstrates how to detect when the map becomes steady after user gestures (pan, zoom, rotate). The CameraGestureObserver component fires the onMapSteady event after a configurable quiet period, providing information about the last gesture type and idle duration.",source:"@site/docs/examples/Map/CameraGestureObserver.md",sourceDirName:"examples/Map",slug:"/examples/Map/CameraGestureObserver",permalink:"/docs/examples/Map/CameraGestureObserver",draft:!1,unlisted:!1,editUrl:"https://github.com/rnmapbox/maps/tree/master/example/src/examples/Map/CameraGestureObserver.tsx",tags:[{inline:!0,label:"CameraGestureObserver#onMapSteady",permalink:"/docs/tags/camera-gesture-observer-on-map-steady"},{inline:!0,label:"CameraGestureObserver#quietPeriodMs",permalink:"/docs/tags/camera-gesture-observer-quiet-period-ms"},{inline:!0,label:"CameraGestureObserver#maxIntervalMs",permalink:"/docs/tags/camera-gesture-observer-max-interval-ms"}],version:"current",frontMatter:{title:"Camera Gesture Observer",tags:["CameraGestureObserver#onMapSteady","CameraGestureObserver#quietPeriodMs","CameraGestureObserver#maxIntervalMs"],custom_props:{example_rel_path:"Map/CameraGestureObserver.tsx"},custom_edit_url:"https://github.com/rnmapbox/maps/tree/master/example/src/examples/Map/CameraGestureObserver.tsx"},sidebar:"examplesSidebar",previous:{title:"Third Party Vector Source",permalink:"/docs/examples/LineLayer/ThirdPartyVectorSource"},next:{title:"Change Layer Color",permalink:"/docs/examples/Map/ChangeLayerColor"}},m={},p=[];function l(e){const t={code:"code",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Demonstrates how to detect when the map becomes steady after user gestures (pan, zoom, rotate). The CameraGestureObserver component fires the onMapSteady event after a configurable quiet period, providing information about the last gesture type and idle duration."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:"import { useCallback, useState } from 'react';\nimport { View, StyleSheet, Text } from 'react-native';\nimport { MapView, Camera, CameraGestureObserver, type OnMapSteadyEvent } from '@rnmapbox/maps';\n\nimport { ExampleWithMetadata } from '../common/ExampleMetadata'; // exclude-from-doc\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  map: {\n    flex: 1,\n  },\n  statusBar: {\n    position: 'absolute',\n    top: 50,\n    left: 20,\n    right: 20,\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\n    padding: 16,\n    borderRadius: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n  },\n  statusText: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  hint: {\n    fontSize: 12,\n    color: '#666',\n    marginTop: 8,\n    fontStyle: 'italic',\n  },\n});\n\nconst CameraGestureObserverExample = () => {\n  const [status, setStatus] = useState('Waiting for interaction...');\n\n  const onMapSteady = useCallback(({ nativeEvent } : { nativeEvent: OnMapSteadyEvent }) => {\n    const { reason, idleDurationMs, lastGestureType, timestamp } = nativeEvent;\n\n    let message = `\u2713 Map is steady!\\n\\nReason: ${reason}`;\n\n    if (reason === 'steady' && idleDurationMs !== undefined) {\n      message += `\\nIdle duration: ${Math.round(idleDurationMs)}ms`;\n    }\n\n    if (lastGestureType) {\n      message += `\\nLast gesture: ${lastGestureType}`;\n    }\n\n    message += `\\nTime: ${new Date(timestamp).toLocaleTimeString()}`;\n\n    console.log('[CameraGestureObserver]', nativeEvent);\n    setStatus(message);\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <MapView style={styles.map}>\n        <Camera\n          defaultSettings={{\n            centerCoordinate: [-74.006, 40.7128],\n            zoomLevel: 12,\n          }}\n        />\n        <CameraGestureObserver\n          quietPeriodMs={200}\n          maxIntervalMs={5000}\n          onMapSteady={onMapSteady}\n        />\n      </MapView>\n      <View style={styles.statusBar}>\n        <Text style={styles.title}>Map Steady State</Text>\n        <Text style={styles.statusText}>{status}</Text>\n        <Text style={styles.hint}>\n          Pan, zoom, or rotate the map to see the steady state detection\n        </Text>\n      </View>\n    </View>\n  );\n};\n\nexport default CameraGestureObserverExample;\n\n\n"})}),"\n",(0,r.jsx)(t.p,{children:"}"})]})}function u(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},1151:(e,t,a)=>{a.d(t,{Z:()=>i,a:()=>o});var r=a(7294);const n={},s=r.createContext(n);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);