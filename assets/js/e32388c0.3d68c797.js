"use strict";(self.webpackChunkmap_docs=self.webpackChunkmap_docs||[]).push([[8521],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(a),d=r,h=c["".concat(s,".").concat(d)]||c[d]||m[d]||l;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5754:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={custom_edit_url:"https://github.com/rnmapbox/maps/blob/main/src/components/ShapeSource.tsx"},o=void 0,i={unversionedId:"components/ShapeSource",id:"components/ShapeSource",title:"ShapeSource",description:"ShapeSource is a map content source that supplies vector shapes to be shown on the map.",source:"@site/docs/components/ShapeSource.md",sourceDirName:"components",slug:"/components/ShapeSource",permalink:"/docs/components/ShapeSource",draft:!1,editUrl:"https://github.com/rnmapbox/maps/blob/main/src/components/ShapeSource.tsx",tags:[],version:"current",frontMatter:{custom_edit_url:"https://github.com/rnmapbox/maps/blob/main/src/components/ShapeSource.tsx"},sidebar:"componentSidebar",previous:{title:"RasterSource",permalink:"/docs/components/RasterSource"},next:{title:"SkyLayer",permalink:"/docs/components/SkyLayer"}},s={},p=[{value:"props",id:"props",level:2},{value:"id",id:"id",level:3},{value:"existing",id:"existing",level:3},{value:"url",id:"url",level:3},{value:"shape",id:"shape",level:3},{value:"cluster",id:"cluster",level:3},{value:"clusterRadius",id:"clusterradius",level:3},{value:"clusterMaxZoomLevel",id:"clustermaxzoomlevel",level:3},{value:"clusterProperties",id:"clusterproperties",level:3},{value:"maxZoomLevel",id:"maxzoomlevel",level:3},{value:"buffer",id:"buffer",level:3},{value:"tolerance",id:"tolerance",level:3},{value:"lineMetrics",id:"linemetrics",level:3},{value:"onPress",id:"onpress",level:3},{value:"hitbox",id:"hitbox",level:3},{value:"children",id:"children",level:3},{value:"methods",id:"methods",level:2},{value:"getClusterExpansionZoom(feature)",id:"getclusterexpansionzoomfeature",level:3},{value:"arguments",id:"arguments",level:4},{value:"getClusterLeaves(feature, limit, offset)",id:"getclusterleavesfeature-limit-offset",level:3},{value:"arguments",id:"arguments-1",level:4},{value:"arguments",id:"arguments-2",level:4},{value:"onPress(event)",id:"onpressevent",level:3},{value:"arguments",id:"arguments-3",level:4}],u={toc:p},c="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { ShapeSource } from '@rnmapbox/maps';\n\nShapeSource\n\n")),(0,r.kt)("p",null,"ShapeSource is a map content source that supplies vector shapes to be shown on the map.\nThe shape may be an url or a GeoJSON object"),(0,r.kt)("h2",{id:"props"},"props"),(0,r.kt)("h3",{id:"id"},"id"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"string\n")),(0,r.kt)("p",null,"A string that uniquely identifies the source."),(0,r.kt)("p",null,"  ",(0,r.kt)("em",{parentName:"p"},"defaults to:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"MapboxGL.StyleSource.DefaultSourceID")),(0,r.kt)("h3",{id:"existing"},"existing"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"boolean\n")),(0,r.kt)("p",null,"The id refers to en existing source in the style. Does not create a new source."),(0,r.kt)("h3",{id:"url"},"url"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"string\n")),(0,r.kt)("p",null,"An HTTP(S) URL, absolute file URL, or local file URL relative to the current application\u2019s resource bundle."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/Map/DynamicUrl"},"Dynamic URL")),(0,r.kt)("h3",{id:"shape"},"shape"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"| GeoJSON.GeometryCollection\n| GeoJSON.Feature\n| GeoJSON.FeatureCollection\n| GeoJSON.Geometry\n")),(0,r.kt)("p",null,"The contents of the source. A shape can represent a GeoJSON geometry, a feature, or a feature collection."),(0,r.kt)("h3",{id:"cluster"},"cluster"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"boolean\n")),(0,r.kt)("p",null,"Enables clustering on the source for point shapes."),(0,r.kt)("h3",{id:"clusterradius"},"clusterRadius"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"number\n")),(0,r.kt)("p",null,"Specifies the radius of each cluster if clustering is enabled.\nA value of 512 produces a radius equal to the width of a tile.\nThe default value is 50."),(0,r.kt)("h3",{id:"clustermaxzoomlevel"},"clusterMaxZoomLevel"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"number\n")),(0,r.kt)("p",null,"Specifies the maximum zoom level at which to cluster points if clustering is enabled.\nDefaults to one zoom level less than the value of maxZoomLevel so that, at the maximum zoom level,\nthe shapes are not clustered."),(0,r.kt)("h3",{id:"clusterproperties"},"clusterProperties"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"object\n")),(0,r.kt)("p",null,"[",(0,r.kt)("inlineCode",{parentName:"p"},"mapbox-gl")," (v8) implementation only]","\nSpecifies custom properties on the generated clusters if clustering\nis enabled, aggregating values from clustered points."),(0,r.kt)("p",null,"Has the form ",(0,r.kt)("inlineCode",{parentName:"p"},'{ "property_name": [operator, map_expression]}'),", where\n",(0,r.kt)("inlineCode",{parentName:"p"},"operator")," is a custom reduce expression that references a special ",(0,r.kt)("inlineCode",{parentName:"p"},'["accumulated"]')," value -\nit accumulates the property value from clusters/points the cluster contains\n",(0,r.kt)("inlineCode",{parentName:"p"},"map_expression")," produces the value of a single point"),(0,r.kt)("p",null,"Example: ",(0,r.kt)("inlineCode",{parentName:"p"},'{ "resultingSum": [["+", ["accumulated"], ["get", "resultingSum"]], ["get", "scalerank"]] }')),(0,r.kt)("h3",{id:"maxzoomlevel"},"maxZoomLevel"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"number\n")),(0,r.kt)("p",null,"Specifies the maximum zoom level at which to create vector tiles.\nA greater value produces greater detail at high zoom levels.\nThe default value is 18."),(0,r.kt)("h3",{id:"buffer"},"buffer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"number\n")),(0,r.kt)("p",null,"Specifies the size of the tile buffer on each side.\nA value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself.\nLarger values produce fewer rendering artifacts near tile edges and slower performance.\nThe default value is 128."),(0,r.kt)("h3",{id:"tolerance"},"tolerance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"number\n")),(0,r.kt)("p",null,"Specifies the Douglas-Peucker simplification tolerance.\nA greater value produces simpler geometries and improves performance.\nThe default value is 0.375."),(0,r.kt)("h3",{id:"linemetrics"},"lineMetrics"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"boolean\n")),(0,r.kt)("p",null,"Whether to calculate line distance metrics.\nThis is required for line layers that specify lineGradient values.\nThe default value is false."),(0,r.kt)("h3",{id:"onpress"},"onPress"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"func\n")),(0,r.kt)("p",null,"Source press listener, gets called when a user presses one of the children layers only\nif that layer has a higher z-index than another source layers"),(0,r.kt)("p",null,"@param {Object} event\n@param {Object[]} event.features - the geojson features that have hit by the press (might be multiple)\n@param {Object} event.coordinates - the coordinates of the click\n@param {Object} event.point - the point of the click\n@return void\n",(0,r.kt)("em",{parentName:"p"},"signature:"),(0,r.kt)("inlineCode",{parentName:"p"},"(event:OnPressEvent) =&gt; void")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/SymbolCircleLayer/CustomIcon"},"Custom Icon"),", ",(0,r.kt)("a",{parentName:"p",href:"../examples/SymbolCircleLayer/CustomIconNativeAsset"},"Custom Icon Native Asset")),(0,r.kt)("h3",{id:"hitbox"},"hitbox"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"type Hitbox = {\n  width: number; /* `width` of hitbox */\n  height: number; /* `height` of hitbox */\n}\n")),(0,r.kt)("p",null,"Overrides the default touch hitbox(44x44 pixels) for the source layers"),(0,r.kt)("h3",{id:"children"},"children"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"React.ReactElement | React.ReactElement[]\n")),(0,r.kt)("p",null,"FIX ME NO DESCRIPTION"),(0,r.kt)("h2",{id:"methods"},"methods"),(0,r.kt)("h3",{id:"getclusterexpansionzoomfeature"},"getClusterExpansionZoom(feature)"),(0,r.kt)("p",null,"Returns the zoom needed to expand the cluster."),(0,r.kt)("h4",{id:"arguments"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"feature")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string \\| GeoJSON.Feature")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The feature cluster to expand.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const zoom = await shapeSource.getClusterExpansionZoom(clusterId);\n")),(0,r.kt)("h3",{id:"getclusterleavesfeature-limit-offset"},"getClusterLeaves(feature, limit, offset)"),(0,r.kt)("p",null,"Returns the FeatureCollection from the cluster."),(0,r.kt)("h4",{id:"arguments-1"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"feature")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"number \\| GeoJSON.Feature")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The feature cluster to expand.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"limit")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The number of points to return.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"offset")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The amount of points to skip (for pagination).")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const collection = await shapeSource.getClusterLeaves(clusterId, limit, offset);\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/SymbolCircleLayer/Earthquakes"},"Earthquakes"),"### getClusterChildren(feature)"),(0,r.kt)("p",null,"Returns the FeatureCollection from the cluster (on the next zoom level)."),(0,r.kt)("h4",{id:"arguments-2"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"feature")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"number \\| GeoJSON.Feature")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The feature cluster to expand.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const collection = await shapeSource.getClusterChildren(clusterId);\n")),(0,r.kt)("h3",{id:"onpressevent"},"onPress(event)"),(0,r.kt)("h4",{id:"arguments-3"},"arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Required"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"event")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"NativeSyntheticEvent")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Yes")),(0,r.kt)("td",{parentName:"tr",align:"center"},"undefined")))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../examples/SymbolCircleLayer/CustomIcon"},"Custom Icon"),", ",(0,r.kt)("a",{parentName:"p",href:"../examples/SymbolCircleLayer/CustomIconNativeAsset"},"Custom Icon Native Asset")))}m.isMDXComponent=!0}}]);