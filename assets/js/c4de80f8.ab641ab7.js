"use strict";(self.webpackChunkmap_docs=self.webpackChunkmap_docs||[]).push([[7943],{8181:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>V,contentTitle:()=>M,default:()=>q,frontMatter:()=>S,metadata:()=>C,toc:()=>A});var o=s(5893),i=s(1151),a=s(7294),r=s(6905),l=s(2466),t=s(6550),c=s(469),d=s(1980),u=s(7392),p=s(812);function h(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function x(e){const{values:n,children:s}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:s,attributes:o,default:i}}=e;return{value:n,label:s,attributes:o,default:i}}))}(s);return function(e){const n=(0,u.lx)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function g(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:s}=e;const o=(0,t.k6)(),i=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,d._X)(i),(0,a.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(o.location.search);n.set(i,e),o.replace({...o.location,search:n.toString()})}),[i,o])]}function f(e){const{defaultValue:n,queryString:s=!1,groupId:o}=e,i=x(e),[r,l]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const o=s.find((e=>e.default))??s[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:i}))),[t,d]=m({queryString:s,groupId:o}),[u,h]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,i]=(0,p.Nk)(s);return[o,(0,a.useCallback)((e=>{s&&i.set(e)}),[s,i])]}({groupId:o}),f=(()=>{const e=t??u;return g({value:e,tabValues:i})?e:null})();(0,c.Z)((()=>{f&&l(f)}),[f]);return{selectedValue:r,selectValue:(0,a.useCallback)((e=>{if(!g({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),h(e)}),[d,h,i]),tabValues:i}}var b=s(2389);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:n,block:s,selectedValue:i,selectValue:a,tabValues:t}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,l.o5)(),u=e=>{const n=e.currentTarget,s=c.indexOf(n),o=t[s].value;o!==i&&(d(n),a(o))},p=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,o.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":s},n),children:t.map((e=>{let{value:n,label:s,attributes:a}=e;return(0,o.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>c.push(e),onKeyDown:p,onClick:u,...a,className:(0,r.Z)("tabs__item",j.tabItem,a?.className,{"tabs__item--active":i===n}),children:s??n},n)}))})}function y(e){let{lazy:n,children:s,selectedValue:i}=e;const l=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===i));return e?(0,a.cloneElement)(e,{className:(0,r.Z)("margin-top--md",e.props.className)}):null}return(0,o.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function w(e){const n=f(e);return(0,o.jsxs)("div",{className:(0,r.Z)("tabs-container",j.tabList),children:[(0,o.jsx)(v,{...n,...e}),(0,o.jsx)(y,{...n,...e})]})}function N(e){const n=(0,b.Z)();return(0,o.jsx)(w,{...e,children:h(e.children)},String(n))}const I={tabItem:"tabItem_Ymn6"};function k(e){let{children:n,hidden:s,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.Z)(I.tabItem,i),hidden:s,children:n})}const S={id:"install",sidebar_position:1,title:"Install"},M="Configure credentials",C={id:"install",title:"Install",description:"Note that those instructions applies to the 10.2.* versions of @rnmapbox/maps.",source:"@site/docs/install.md",sourceDirName:".",slug:"/install",permalink:"/docs/install",draft:!1,unlisted:!1,editUrl:"https://github.com/rnmapbox/maps-docs/tree/main/docs/install.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"install",sidebar_position:1,title:"Install"}},V={},A=[{value:"Update your podfile",id:"update-your-podfile",level:3},{value:"Adding mapbox maven repo",id:"adding-mapbox-maven-repo",level:3},{value:"Plugin configuration",id:"plugin-configuration",level:3},{value:"Rebuild",id:"rebuild",level:2},{value:"Customizing Mapbox Version",id:"customizing-mapbox-version",level:2},{value:"Using V10 (Deprecated)",id:"using-v10-deprecated",level:3},{value:"Advanced - using non default version",id:"advanced---using-non-default-version",level:2},{value:"Configure permissions for location access",id:"configure-permissions-for-location-access",level:2}];function E(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Note that those instructions applies to the 10.2.* versions of @rnmapbox/maps."}),"\n"]}),"\n",(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configure-credentials",children:"Configure credentials"})}),"\n",(0,o.jsx)(n.p,{children:"Before installing @rnmapbox/maps you'll need to get your Mapbox access token."}),"\n",(0,o.jsxs)(n.p,{children:["To grab your token, open up a browser and go to your account's tokens page: ",(0,o.jsx)(n.a,{href:"https://console.mapbox.com/account/access-tokens/",children:"https://console.mapbox.com/account/access-tokens/"})]}),"\n",(0,o.jsxs)(n.p,{children:["On the top of your token list, copy your ",(0,o.jsx)(n.strong,{children:"Default Public Token"}),". The public token starts with ",(0,o.jsx)(n.code,{children:"pk.ey"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["For more details, see ",(0,o.jsx)(n.a,{href:"https://docs.mapbox.com/ios/maps/guides/install/#part-1-create-and-configure-your-credentials",children:"Configure Credentials"})," on mapbox.com."]}),"\n",(0,o.jsx)(n.h1,{id:"install",children:"Install"}),"\n",(0,o.jsxs)(N,{groupId:"install-module",queryString:!0,defaultValue:"npm",values:[{label:"NPM",value:"npm"},{label:"Yarn",value:"yarn"},{label:"Expo",value:"expo"}],children:[(0,o.jsx)(k,{value:"npm",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install @rnmapbox/maps\n"})})}),(0,o.jsx)(k,{value:"yarn",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn add @rnmapbox/maps\n"})})}),(0,o.jsx)(k,{value:"expo",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"expo install @rnmapbox/maps\n"})})})]}),"\n",(0,o.jsx)(n.h1,{id:"configure-rnmapboxmaps",children:"Configure @rnmapbox/maps"}),"\n",(0,o.jsxs)(N,{groupId:"configure-module",queryString:!0,defaultValue:"ios",values:[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Expo",value:"expo"}],children:[(0,o.jsxs)(k,{value:"ios",children:[(0,o.jsx)(n.h3,{id:"update-your-podfile",children:"Update your podfile"}),(0,o.jsxs)(n.p,{children:["Add the following to your ",(0,o.jsx)(n.code,{children:"ios/Podfile"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ruby",children:"// highlight-start\npre_install do |installer|\n  $RNMapboxMaps.pre_install(installer)\nend\n// highlight-end\n\npost_install do |installer|\n// highlight-start\n  $RNMapboxMaps.post_install(installer)\n// highlight-end\n  # ... other post install hooks\nend\n"})})]}),(0,o.jsxs)(k,{value:"android",children:[(0,o.jsx)(n.h3,{id:"adding-mapbox-maven-repo",children:"Adding mapbox maven repo"}),(0,o.jsxs)(n.p,{children:["Add the following to your android/build.gradle, into the section ",(0,o.jsx)(n.code,{children:"allprojects/repositories"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",children:"// android/build.gradle\n\n// highlight-start\nallprojects {\n    repositories {\n        maven {\n            url 'https://api.mapbox.com/downloads/v2/releases/maven'\n        }\n    }\n}\n// highlight-end\n"})})]}),(0,o.jsxs)(k,{value:"expo",children:[(0,o.jsx)(n.h3,{id:"plugin-configuration",children:"Plugin configuration"}),(0,o.jsxs)(n.p,{children:["Add the @rnmapbox/maps ",(0,o.jsx)(n.a,{href:"https://docs.expo.io/guides/config-plugins/",children:"config plugin"})," to the ",(0,o.jsx)(n.a,{href:"https://docs.expo.io/versions/latest/config/app/#plugins",children:(0,o.jsx)(n.code,{children:"plugins"})})," array of your ",(0,o.jsx)(n.code,{children:"app.{json,config.js,config.ts}"}),":"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n// highlight-start\n      "@rnmapbox/maps"\n// highlight-end\n    ]\n  }\n}\n'})})]})]}),"\n",(0,o.jsx)(n.h2,{id:"rebuild",children:"Rebuild"}),"\n",(0,o.jsxs)(N,{groupId:"rebuild",queryString:!0,defaultValue:"expo",values:[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Expo",value:"expo"}],children:[(0,o.jsx)(k,{value:"ios",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"(cd ios && pod install)\nnpm run ios\n"})})}),(0,o.jsx)(k,{value:"android",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run android\n"})})}),(0,o.jsxs)(k,{value:"expo",children:[(0,o.jsxs)(n.p,{children:['React Native Mapbox Maps cannot be used in the "Expo Go" app, because it requires ',(0,o.jsx)(n.a,{href:"https://docs.expo.dev/workflow/customizing/",children:"custom native code"}),"."]}),(0,o.jsxs)(n.p,{children:["Next, if you are not using EAS Build then you must rebuild your app as described in the ",(0,o.jsx)(n.a,{href:"https://docs.expo.dev/workflow/customizing/",children:'"Adding custom native code"'})," guide to include the config plugin changes. If this command isn't run, you'll not be able use ",(0,o.jsx)(n.code,{children:"@rnmapbox/maps"}),"."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"expo prebuild --clean\n"})})]})]}),"\n",(0,o.jsx)(n.h2,{id:"customizing-mapbox-version",children:"Customizing Mapbox Version"}),"\n",(0,o.jsxs)(n.p,{children:["@rnmapbox/maps 10.2 defaults to Mapbox Maps SDK ",(0,o.jsx)(n.code,{children:"11.0.*"}),"."]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," Mapbox Maps SDK v10 is now deprecated. We recommend using v11 for new projects and upgrading existing projects to v11."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"using-v10-deprecated",children:"Using V10 (Deprecated)"}),"\n",(0,o.jsxs)(n.p,{children:["If you need to use the deprecated ",(0,o.jsx)(n.code,{children:"10.16.*"})," version, you can configure it according to your platform:"]}),"\n",(0,o.jsxs)(N,{groupId:"v10-instructions",queryString:!0,defaultValue:"expo",values:[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Expo",value:"expo"}],children:[(0,o.jsxs)(k,{value:"ios",children:[(0,o.jsxs)(n.p,{children:["Add the following to your ",(0,o.jsx)(n.code,{children:"ios/Podfile"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ruby",children:"$RNMapboxMapsVersion = '~> 10.16.0'\n"})})]}),(0,o.jsxs)(k,{value:"android",children:[(0,o.jsxs)(n.p,{children:["Set ",(0,o.jsx)(n.code,{children:"RNMapboxMapsVersion"})," in ",(0,o.jsx)(n.code,{children:"android/build.gradle"})," > ",(0,o.jsx)(n.code,{children:"buildscript"})," > ",(0,o.jsx)(n.code,{children:"ext"})," section"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",children:"buildscript {\n    ext {\n// highlight-start\n        RNMapboxMapsVersion = '10.16.4'\n// highlight-end\n    }\n}\n"})})]}),(0,o.jsxs)(k,{value:"expo",children:[(0,o.jsxs)(n.p,{children:["Add ",(0,o.jsx)(n.code,{children:"RNMapboxMapsVersion"})," to the @rnmapbox/maps ",(0,o.jsx)(n.a,{href:"https://docs.expo.io/guides/config-plugins/",children:"config plugin"})," to the ",(0,o.jsx)(n.a,{href:"https://docs.expo.io/versions/latest/config/app/#plugins",children:(0,o.jsx)(n.code,{children:"plugins"})})," array of your ",(0,o.jsx)(n.code,{children:"app.{json,config.js,config.ts}"}),":"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "@rnmapbox/maps",\n        {\n          ...\n// highlight-start\n          "RNMapboxMapsVersion": "10.16.4"\n// highlight-end\n        }\n      ]\n    ]\n  }\n}\n'})})]})]}),"\n",(0,o.jsx)(n.h2,{id:"advanced---using-non-default-version",children:"Advanced - using non default version"}),"\n",(0,o.jsxs)(n.p,{children:["It's possible to overwrite the native SDK version with ",(0,o.jsx)(n.code,{children:"RNMapboxMapsVersion"}),". However, you should revise this when upgrading ",(0,o.jsx)(n.code,{children:"@rnmapbox/maps"})," as future releases might not support the version you set."]}),"\n",(0,o.jsxs)(n.p,{children:["To use a specific v11 version, follow the instructions above ",(0,o.jsx)(n.a,{href:"#customizing-mapbox-version",children:"for customizing the Mapbox version"}),", specifying your desired ",(0,o.jsx)(n.code,{children:"11.*"})," version (e.g., ",(0,o.jsx)(n.code,{children:"11.0.0"}),", ",(0,o.jsx)(n.code,{children:"11.1.0"}),", etc.)."]}),"\n",(0,o.jsx)(n.h2,{id:"configure-permissions-for-location-access",children:"Configure permissions for location access"}),"\n",(0,o.jsxs)(N,{groupId:"location",queryString:!0,defaultValue:"expo",values:[{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Expo",value:"expo"}],children:[(0,o.jsxs)(k,{value:"ios",children:[(0,o.jsxs)(n.p,{children:["If you want to show the location puck on the map with the ",(0,o.jsx)(n.a,{href:"components/LocationPuck",children:"LocationPuck"})," component, you'll need to add the following property to your ",(0,o.jsx)(n.code,{children:"Info.plist"})," (see ",(0,o.jsx)(n.a,{href:"https://docs.mapbox.com/ios/maps/guides/user-location/#request-temporary-access-to-full-accuracy-location",children:"Mapbox iOS docs"})," for more info):"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:" <key>NSLocationWhenInUseUsageDescription</key>\n <string>Show current location on map.</string>\n"})})]}),(0,o.jsxs)(k,{value:"android",children:[(0,o.jsxs)(n.p,{children:["If you plan to display the user's location on the map or get the user's location information you will need to add the ACCESS_COARSE_LOCATION permission in your application's AndroidManifest.xml. You also need to add ACCESS_FINE_LOCATION permissions if you need access to precise location. You can check whether the user has granted location permission and request permissions if the user hasn't granted them yet using the PermissionsManager. See Mapbox android install ",(0,o.jsx)(n.a,{href:"https://docs.mapbox.com/android/maps/guides/install/",children:"guides"})," for more information."]}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"android/app/src/main/AndroidManifest.xml"})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<manifest ... >\n// highlight-start\n  \x3c!-- Always include this permission --\x3e\n  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />\n\n  \x3c!-- Include only if your app benefits from precise location access. --\x3e\n  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />\n// highlight-end\n</manifest>\n'})})]}),(0,o.jsxs)(k,{value:"expo",children:[(0,o.jsxs)(n.p,{children:["If you want to show the location puck on the map with the ",(0,o.jsx)(n.a,{href:"components/LocationPuck",children:"LocationPuck"})," component, you can use the ",(0,o.jsx)(n.a,{href:"https://docs.expo.dev/versions/latest/sdk/location/",children:"expo-location"})," plugin to configure the required ",(0,o.jsx)(n.code,{children:"NSLocationWhenInUseUsageDescription"})," property. Install the plugin with ",(0,o.jsx)(n.code,{children:"npx expo install expo-location"})," and add its config plugin to the plugins array of your ",(0,o.jsx)(n.code,{children:"app.{json,config.js,config.ts}"}),":"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n// highlight-start\n      [\n        "expo-location",\n        {\n          "locationWhenInUsePermission": "Show current location on map."\n        }\n      ]\n// highlight-end\n    ]\n  }\n}\n'})})]})]})]})}function q(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(E,{...e})}):E(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>r});var o=s(7294);const i={},a=o.createContext(i);function r(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);