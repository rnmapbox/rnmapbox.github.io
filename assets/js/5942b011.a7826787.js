"use strict";(self.webpackChunkmap_docs=self.webpackChunkmap_docs||[]).push([[906],{3378:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var r=o(5893),t=o(1151);const s={title:"User Location Render Mode",tags:["UserLocation","UserLocation#renderMode","UserLocation#visible","UserLocation#onUserTrackingModeChange"],custom_props:{example_rel_path:"UserLocation/UserLocationRenderMode.tsx"},custom_edit_url:"https://github.com/rnmapbox/maps/tree/master/example/src/examples/UserLocation/UserLocationRenderMode.tsx"},a=void 0,i={id:"examples/UserLocation/UserLocationRenderMode",title:"User Location Render Mode",description:"Demonstrates UserLocation render modes, follow modes",source:"@site/docs/examples/UserLocation/UserLocationRenderMode.md",sourceDirName:"examples/UserLocation",slug:"/examples/UserLocation/UserLocationRenderMode",permalink:"/docs/examples/UserLocation/UserLocationRenderMode",draft:!1,unlisted:!1,editUrl:"https://github.com/rnmapbox/maps/tree/master/example/src/examples/UserLocation/UserLocationRenderMode.tsx",tags:[{inline:!0,label:"UserLocation",permalink:"/docs/tags/user-location"},{inline:!0,label:"UserLocation#renderMode",permalink:"/docs/tags/user-location-render-mode"},{inline:!0,label:"UserLocation#visible",permalink:"/docs/tags/user-location-visible"},{inline:!0,label:"UserLocation#onUserTrackingModeChange",permalink:"/docs/tags/user-location-on-user-tracking-mode-change"}],version:"current",frontMatter:{title:"User Location Render Mode",tags:["UserLocation","UserLocation#renderMode","UserLocation#visible","UserLocation#onUserTrackingModeChange"],custom_props:{example_rel_path:"UserLocation/UserLocationRenderMode.tsx"},custom_edit_url:"https://github.com/rnmapbox/maps/tree/master/example/src/examples/UserLocation/UserLocationRenderMode.tsx"},sidebar:"examplesSidebar",previous:{title:"User Location Padding",permalink:"/docs/examples/UserLocation/UserLocationPadding"},next:{title:"User Location Updates",permalink:"/docs/examples/UserLocation/UserLocationUpdates"}},d={},c=[];function l(e){const n={code:"code",img:"img",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Demonstrates UserLocation render modes, follow modes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import { ReactNode, useState } from 'react';\nimport {\n  MapView,\n  CircleLayer,\n  UserLocation,\n  Camera,\n  UserLocationRenderMode as UserLocationRenderModeType,\n  UserTrackingMode,\n} from '@rnmapbox/maps';\nimport { Button, Platform, View } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { ButtonGroup, Text } from '@rneui/base';\n\nimport { DEFAULT_CENTER_COORDINATE } from '../../utils';\nimport { ExampleWithMetadata } from '../common/ExampleMetadata'; // exclude-from-doc\n\nconst SettingsGroup = ({\n  children,\n  label,\n}: {\n  children: ReactNode;\n  label: string;\n}) => (\n  <View>\n    <Text style={{ textAlign: 'center', fontWeight: 'bold' }}>{label}</Text>\n    {children}\n  </View>\n);\n\nconst styles = { matchParent: { flex: 1 } };\n\nfunction humanize(name: string): string {\n  const words = name.match(/[A-Za-z][a-z]*/g) || [];\n\n  return words.map((i) => i.charAt(0).toUpperCase() + i.substring(1)).join(' ');\n}\n\nenum ExampleRenderMode {\n  Normal = 'normal',\n  Native = 'native',\n  CustomChildren = 'customChildren',\n  Hidden = 'hidden',\n}\n\nconst ANDROID_RENDER_MODES: ('normal' | 'compass' | 'gps')[] = [\n  'normal',\n  'compass',\n  'gps',\n];\n\nconst UserLocationRenderMode = () => {\n  const [renderMode, setRenderMode] = useState<ExampleRenderMode>(\n    ExampleRenderMode.Normal,\n  );\n  const [followUserLocation, setFollowUserLocation] = useState(true);\n  const [followUserMode, setFollowUserMode] = useState(UserTrackingMode.Follow);\n  const [showsUserHeadingIndicator, setShowsUserHeadingIndicator] =\n    useState(false);\n  const [androidRenderMode, setAndroidRenderMode] = useState<\n    'normal' | 'compass' | 'gps'\n  >('normal');\n\n  return (\n    <SafeAreaView style={styles.matchParent}>\n      <View>\n        <Button\n          title={\n            followUserLocation\n              ? 'Don`t follow User Location'\n              : 'Follow user location'\n          }\n          onPress={() => setFollowUserLocation((prevState) => !prevState)}\n        />\n        <Button\n          title={\n            showsUserHeadingIndicator\n              ? 'Hide user heading indicator'\n              : 'Show user heading indicator'\n          }\n          onPress={() =>\n            setShowsUserHeadingIndicator((prevState) => !prevState)\n          }\n        />\n\n        <SettingsGroup label=\"Follow User Mode\">\n          <ButtonGroup\n            buttons={Object.values(UserTrackingMode)}\n            selectedIndex={Object.values(UserTrackingMode).indexOf(\n              followUserMode,\n            )}\n            onPress={(index) => {\n              setFollowUserMode(Object.values(UserTrackingMode)[index]!);\n            }}\n          />\n        </SettingsGroup>\n\n        {Platform.OS === 'android' && (\n          <SettingsGroup label=\"Android Render Mode\">\n            <ButtonGroup\n              disabled={renderMode !== ExampleRenderMode.Native}\n              buttons={ANDROID_RENDER_MODES}\n              selectedIndex={ANDROID_RENDER_MODES.indexOf(androidRenderMode)}\n              onPress={(index) => {\n                setAndroidRenderMode(ANDROID_RENDER_MODES[index]!);\n              }}\n            />\n          </SettingsGroup>\n        )}\n      </View>\n\n      <MapView style={styles.matchParent} tintColor={'red'}>\n        <Camera\n          defaultSettings={{\n            centerCoordinate: DEFAULT_CENTER_COORDINATE,\n            zoomLevel: 18,\n          }}\n          followUserLocation={followUserLocation}\n          followUserMode={followUserMode}\n          followZoomLevel={18}\n          onUserTrackingModeChange={(event) => {\n            if (!event.nativeEvent.payload.followUserLocation) {\n              setFollowUserLocation(false);\n            }\n          }}\n        />\n        <UserLocation\n          visible={renderMode !== ExampleRenderMode.Hidden}\n          renderMode={\n            renderMode === ExampleRenderMode.Native\n              ? UserLocationRenderModeType.Native\n              : UserLocationRenderModeType.Normal\n          }\n          showsUserHeadingIndicator={showsUserHeadingIndicator}\n          androidRenderMode={androidRenderMode}\n        >\n          {renderMode === ExampleRenderMode.CustomChildren\n            ? [\n                <CircleLayer\n                  key=\"customer-user-location-children-red\"\n                  id=\"customer-user-location-children-red\"\n                  style={{ circleColor: 'red', circleRadius: 8 }}\n                />,\n                <CircleLayer\n                  key=\"customer-user-location-children-white\"\n                  id=\"customer-user-location-children-white\"\n                  style={{ circleColor: 'white', circleRadius: 4 }}\n                />,\n              ]\n            : undefined}\n        </UserLocation>\n      </MapView>\n      <ButtonGroup\n        buttons={Object.values(ExampleRenderMode).map(humanize)}\n        selectedIndex={Object.values(ExampleRenderMode).indexOf(renderMode)}\n        onPress={(index) => {\n          setRenderMode(Object.values(ExampleRenderMode)[index]!);\n        }}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default UserLocationRenderMode;\n\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"UserLocationRenderMode.png",src:o(158).Z+"",width:"295",height:"640"}),"}"]})]})}function m(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},158:(e,n,o)=>{o.d(n,{Z:()=>r});const r=o.p+"assets/images/UserLocationRenderMode-045978ca147ed13b5365e0b414131b36.png"},1151:(e,n,o)=>{o.d(n,{Z:()=>i,a:()=>a});var r=o(7294);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);